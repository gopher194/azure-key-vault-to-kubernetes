{"componentChunkName":"component---node-modules-gatsby-theme-apollo-docs-src-components-template-js","path":"/","result":{"data":{"site":{"pathPrefix":"","siteMetadata":{"title":"akv2k8s docs","description":"How to get Azure Key Vault objects into Kubernetes"}},"file":{"childMarkdownRemark":null,"childMdx":{"frontmatter":{"title":"Overview","description":"Explore Azure Key Vault to Kubernetes"},"headings":[{"value":"The Goals of the Azure Key Vault to Kubernetes project"},{"value":"Components"},{"value":"Recommendation is to install both"},{"value":"When to use the Controller?"},{"value":"When to use the Env Injector?"}],"fields":{"image":"social-cards/index.png","graphManagerUrl":""},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Overview\",\n  \"description\": \"Explore Azure Key Vault to Kubernetes\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Azure Key Vault to Kubernetes (akv2k8s) makes Azure Key Vault secrets, certificates and keys available in Kubernetes and/or your application - in a simple and secure way.\"), mdx(\"h2\", {\n    \"id\": \"the-goals-of-the-azure-key-vault-to-kubernetes-project\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#the-goals-of-the-azure-key-vault-to-kubernetes-project\",\n    \"aria-label\": \"the goals of the azure key vault to kubernetes project permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The Goals of the Azure Key Vault to Kubernetes project\"), mdx(\"p\", null, \"The Azure Key Vault to Kubernetes project was set out with these goals in mind:\"), mdx(ExpansionPanelList, {\n    mdxType: \"ExpansionPanelList\"\n  }, mdx(ExpansionPanelListItem, {\n    number: \"1\",\n    mdxType: \"ExpansionPanelListItem\"\n  }, mdx(\"p\", null, \"Avoid a direct program dependency on Azure Key Vault for getting secrets, and adhere to the 12 Factor App principle for configuration (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://12factor.net/config\"\n  }), \"https://12factor.net/config\"), \")\")), mdx(ExpansionPanelListItem, {\n    number: \"2\",\n    mdxType: \"ExpansionPanelListItem\"\n  }, mdx(\"p\", null, \"Make it simple, secure and low risk to transfer Azure Key Vault secrets into Kubernetes as native Kubernetes secrets\")), mdx(ExpansionPanelListItem, {\n    number: \"3\",\n    mdxType: \"ExpansionPanelListItem\"\n  }, mdx(\"p\", null, \"Securely and transparently be able to inject Azure Key Vault secrets as environment variables to applications, without having to use native Kubernetes secrets\")), mdx(ExpansionPanelListItem, {\n    number: \"check\",\n    mdxType: \"ExpansionPanelListItem\"\n  }, mdx(\"p\", null, \"All of these goals are met.\"))), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"components\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#components\",\n    \"aria-label\": \"components permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Components\"), mdx(\"p\", null, \"Akv2k8s contains two main components:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"akv2k8s Controller\"), \" syncs Azure Key Vault objects to Kubernetes as native \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Secret\"), \"'s\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"The \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"akv2k8s Injector\"), \" injects Azure Key Vault objects as environment variables directly into your application.\")), mdx(\"p\", null, \"The diagram below illustrate the two options:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/0efed5dfc0c7e74e813df323f03b7cc0/controller_and_injector.png\",\n    \"alt\": \"Controller and Env-Injector\"\n  }))), mdx(\"p\", null, \"For more information about the inner workings of Azure Key Vault for Kubernetes, see \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/how-it-works/\"\n  }), \"How it Works\"), \".\"), mdx(\"h2\", {\n    \"id\": \"recommendation-is-to-install-both\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#recommendation-is-to-install-both\",\n    \"aria-label\": \"recommendation is to install both permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Recommendation is to install both\"), mdx(\"p\", null, \"The recommendation is to install both the Controller and the Env Injector, enabling native Kubernetes secrets when needed and transparently injecting environment variables for all other cases.\"), mdx(\"h2\", {\n    \"id\": \"when-to-use-the-controller\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#when-to-use-the-controller\",\n    \"aria-label\": \"when to use the controller permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"When to use the Controller?\"), mdx(\"p\", null, \"Use the Controller if:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the native \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Secret\"), \" support in Kubernetes is desired - e.g. you need to use a 3rd party Helm chart that expects a \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Secret\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://kubernetes.io/docs/concepts/configuration/secret/#risks\"\n  }), \"risks documented with Secrets in Kubernetes\"), \" is acceptable\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"there are no concerns about storing Azure Key Vault secrets as base64 encoded plain text values in Kubernetes \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Secret\"), \" resources\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it is OK that anyone with read access to \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Secret\"), \" resources in the Kubernetes cluster can read the content of the secrets\")), mdx(\"h2\", {\n    \"id\": \"when-to-use-the-env-injector\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#when-to-use-the-env-injector\",\n    \"aria-label\": \"when to use the env injector permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"When to use the Env Injector?\"), mdx(\"p\", null, \"Use the Env Injector if:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the application running in the container support getting secrets as environment variables\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"any of the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://kubernetes.io/docs/concepts/configuration/secret/#risks\"\n  }), \"risks documented with Secrets in Kubernetes\"), \" is not acceptable\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"there are concerns about storing and exposing base64 encoded Azure Key Vault secrets as Kubernetes \", mdx(\"code\", _extends({\n    parentName: \"li\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Secret\"), \" resources\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"preventing Kubernetes users to gain access to Azure Key Vault secret content is important\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"secret environment variable values should not be revealed to Kubernetes resources like Pod specs, stored on disks, visible in logs or exposed in any way other than in-memory for the application \")), mdx(\"h3\", {\n    \"id\": \"want-to-get-started\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#want-to-get-started\",\n    \"aria-label\": \"want to get started permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Want to get started?\"), mdx(\"p\", null, \"When you understand the difference between the Controller and the Injector, and when to use which - walking through some tutorials will get you quickly started.\"), mdx(\"div\", null, mdx(Button, {\n    size: \"large\",\n    color: colors.primary,\n    as: mdx(Link, {\n      to: \"/tutorials/introduction\",\n      mdxType: \"Link\"\n    }),\n    mdxType: \"Button\"\n  }, \"Start the tutorials!\")));\n}\n;\nMDXContent.isMDXComponent = true;"}}},"pageContext":{"id":"698ca687-44b8-593c-9222-ea28bf21617d","subtitle":"","versionDifference":0,"versionBasePath":"/vdefault","sidebarContents":[{"title":null,"pages":[{"title":"Overview","description":"Explore Azure Key Vault to Kubernetes","path":"/"},{"title":"Why use akv2k8s?","description":null,"path":"/why-akv2k8s/"},{"title":"Quick Start","description":"Quickly get started using Azure Key Vault to Kubernetes","path":"/quick-start/"},{"title":"How it Works","description":"Learn about the inner workings of akv2k8s.","path":"/how-it-works/"},{"title":"Examples","description":"Simple examples of how akv2k8s can be used.","path":"/examples/"}]},{"title":"Installation","pages":[{"title":"Overview","description":"Different options for installing akv2k8s","path":"/installation/"},{"title":"Requirements","description":"Requirements for installing akv2k8s","path":"/installation/requirements/"},{"title":"Installation with Helm","description":"How to install Azure Key Vault to Kubernetes with Helm","path":"/installation/installing-with-helm/"},{"title":"Installation without Helm","description":"How to setup Azure Key Vault to Kubernetes","path":"/installation/installing-without-helm/"}]},{"title":"Tutorials","pages":[{"title":"Introduction","description":"kjadsl ","path":"/tutorials/introduction/"},{"title":"Prerequisites","description":"A set of commands to create all prerequisite resources needed to complete tutorials","path":"/tutorials/prerequisites/"},{"title":"Sync Secret","description":"Sync a secret from Azure Key Vault into a Kubernetes Secret","path":"/tutorials/sync/1-secret/"},{"title":"Sync Certificate","description":"Sync a certificate from Azure Key Vault into a Kubernetes Secret.","path":"/tutorials/sync/2-certificate/"},{"title":"Sync Signing Key","description":"Sync signing key from Azure Key Vault into a Kubernetes Secret","path":"/tutorials/sync/3-signing-key/"},{"title":"Sync Multi Value Secret","description":"Sync a multi-value secret from Azure Key Vault into a Kubernetes Secret","path":"/tutorials/sync/4-multi-value-secret/"},{"title":"Inject Secret","description":"Inject a Azure Key Vault secret as environment variable into an application","path":"/tutorials/env-injection/1-secret/"},{"title":"Inject Certificate","description":"Inject a certificate key pair from Azure Key Vault as environment variables into an application","path":"/tutorials/env-injection/2-certificate/"},{"title":"Inject Signing Key","description":"Inject a signing key from Azure Key Vault as environment variable into an application","path":"/tutorials/env-injection/3-signing-key/"},{"title":"Inject Multi Value Secret","description":"Inject a multi-value secret from Azure Key Vault as environment variables into an application","path":"/tutorials/env-injection/4-multi-value-secret/"},{"title":"Inject PFX Certificate","description":"Inject PFX certificates from Azure Key Vault as environment variables into an application","path":"/tutorials/env-injection/5-env-injector-pfx-certificate/"}]},{"title":"Security","pages":[{"title":"Authentication","description":"Learn about the different options for authenticating with Azure Key Vault.","path":"/security/authentication/"},{"title":"Authorization","description":"Learn how to set the proper access rights to access Azure Key Vault secrets from Kubernetes.","path":"/security/authorization/"}]},{"title":"Availability","pages":[]},{"title":"Troubleshooting","pages":[{"title":"Get the akv2k8s Controller Log","description":"How to access the Controller log and specify log level","path":"/troubleshooting/controller-log/"},{"title":"Set env-injector log-level","description":"How to set the log-level for the env-injector","path":"/troubleshooting/env-injector-log-level/"},{"title":"Known Issues","description":"A list of known issues and available solutions or workarounds","path":"/troubleshooting/known-issues/"}]},{"title":"Reference","pages":[{"title":"AzureKeyVaultSecret","description":"See the complete reference and options for all akv2k8s resources.","path":"/reference/reference/"},{"title":"Vault Object Types","description":"See the complete reference and options for all akv2k8s resources.","path":"/reference/vault-object-types/"},{"title":"Kubernetes Secret Types","description":"See the complete reference and options for all akv2k8s resources.","path":"/reference/kubernetes-secret-types/"},{"title":"Controller Helm Chart","description":"Azure Key Vault Controller reference","path":"/stable/azure-key-vault-controller/README/"},{"title":"Env-Injector Helm Chart","description":"Azure Key Vault Env-Injector reference","path":"/stable/azure-key-vault-env-injector/README/"}]}],"githubUrl":"https://github.com/sparebankenvest/azure-key-vault-to-kubernetes/tree/master/docs/source/content/index.mdx","spectrumUrl":"","twitterHandle":"","versions":[],"defaultVersion":"default","baseUrl":"https://akv2k8s.io"}}}